DATAS SEGMENT
	DW 0
	DW 0
	DW 0
  ERR DB 'ERROR','$'
DATAS ENDS

CODES SEGMENT
    ASSUME CS:CODES,DS:DATAS
START:
    MOV AX,DATAS
    MOV DS,AX
    
    MOV BX, 0
INSERT:
	MOV AH, 1
	INT 21H
	
	CMP AL, 20H ;空格的ascii是20H
	JNE JUDGE
	ADD BX, 2
	JMP INSERT

JUDGE:
	CMP AL, 0DH
	JE SORT
	
	SUB AL, 30H
	MOV AH, 0
	PUSH AX
	
	MOV AL, 10
	MUL WORD PTR DS:[BX] ;;;;;;;;;;
	POP AX
	ADD WORD PTR DS:[BX], AX
	JMP INSERT
	
	
SORT:
	MOV CX, 2 ;外循环
OUTTER:
	PUSH CX
	MOV BX, 0
	MOV CX, 2 ;内循环
INNER:
	MOV AX, WORD PTR DS:[BX+2]
	CMP WORD PTR DS:[BX], AX
	JNA NEXT
	PUSH WORD PTR DS:[BX]
	MOV WORD PTR DS:[BX], AX
	POP WORD PTR DS:[BX+2]
NEXT:
	ADD BX, 2
	LOOP INNER
	POP CX 
	LOOP OUTTER
	
COMPARE:
	MOV AX, WORD PTR DS:[0]
	ADD AX, WORD PTR DS:[2]
	CMP AX, WORD PTR DS:[4]
	JNA FALSE
	ADD AX, WORD PTR DS:[4]
	
	
	MOV CX, 0
SPLIT:
	MOV DX, 0
	MOV BX, 10
	DIV BX
	PUSH DX 
	INC CX
	CMP AX, 0
	JNE SPLIT

PRINT:
	POP DX
	ADD DL, 30H
	MOV AH, 02H
	INT 21H
	LOOP PRINT
	JMP FINISH
	
FALSE:
	LEA DX, OFFSET ERR
	MOV AH, 9
	INT 21H
	
FINISH:
    MOV AH,4CH
    INT 21H
CODES ENDS
    END START
